(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){e.exports=a(226)},2:function(e,t,a){e.exports={"no-scroll":"styles_no-scroll__1vsU8",root:"styles_root__3QAxj",timeline:"styles_timeline__106Mk",debug:"styles_debug__2SKKM","debug-active":"styles_debug-active___9OUc",calendar:"styles_calendar__3Xx2Y","react-draggable":"styles_react-draggable__2QRVw","handle-wrapper":"styles_handle-wrapper__2T7f7",handle:"styles_handle__1dKGL",top:"styles_top__2FFal",bottom:"styles_bottom__3nd0X","layer-container":"styles_layer-container__1Quoi",event:"styles_event__bjik1","drag-box":"styles_drag-box__OvX9t",draggable:"styles_draggable__a1ktL","button-reset":"styles_button-reset__3_zQt","is-draggable":"styles_is-draggable__2U2x2","react-draggable-dragging":"styles_react-draggable-dragging__1T3s8","is-pending-creation":"styles_is-pending-creation__2vDDI","hours-container":"styles_hours-container__3XZzL","day-column":"styles_day-column__2sQzS","day-hours":"styles_day-hours__3_7p4",cell:"styles_cell__1OJUD",time:"styles_time__1X-Hn",title:"styles_title__2dKTz",header:"styles_header__1IF59",first:"styles_first__1t63n",popup:"styles_popup__2oSt1","range-boxes":"styles_range-boxes__39XBE","event-content":"styles_event-content__1EBie",start:"styles_start__2DXVx",end:"styles_end__2XnIt"}},226:function(e,t,a){"use strict";a.r(t);var n=a(26),c=a(104),r=a(24),l=a(21),i=a(8),s=(a(114),a(0)),o=a.n(s),u=a(66),d=a.n(u),b=a(67),f=a.n(b),m=a(6),g=a(3),h=a(105),p=a.n(h),O=a(106),j=a(112),v=a(107),_=a.n(v),y=new WeakMap;function Y(e,t,a){var n=Object(s.useRef)(null);n.current=t,Object(s.useEffect)(function(){if(a){var t=y.get(a);return t||(t=new Mousetrap(a),y.set(a,t)),t.bind(e,function(){"function"===typeof n.current&&n.current()}),function(){_.a.unbind(e)}}},[e,a])}var E=a(10),D=a(108),X=a(109),w=a.n(X),M=a(229),C=a(52),x=a(232),T=a(111),R=a(235),N=a(230),k=a(231),H=a(233),I=a(39),W=a(236),z=a(234),Z=function(e){return function(t){var a,n,c,r;if("changedTouches"in t){var l=t.changedTouches[0];a=l.clientX,n=l.clientY,c=l.pageX,r=l.pageY}else a=t.clientX,n=t.clientY,c=t.pageX,r=t.pageY;var i=e.getBoundingClientRect(),s=i.top,o=i.left;return{clientX:a,clientY:n,pageX:c,pageY:r,top:s,left:o,x:a-o,y:n-s}}};var S=function(e){var t=e.startX,a=e.startY,n=e.toMin,c=e.originDate;return Object(g.addMinutes)(Object(g.addDays)(c,t),n(a))},F=function(e){var t=e.fromY,a=e.fromX,n=e.originDate;return function(e){var c=e.startX,r=e.startY,l=e.endX,i=e.spanY;return Object(m.range)(c,l+1).map(function(e){var c=S({startX:e,startY:r,toMin:t,toDay:a,originDate:n}),l=Object(g.addMinutes)(c,t(i));return Object(g.isEqual)(l,Object(g.startOfDay)(l))&&(l=Object(g.endOfDay)(Object(g.subDays)(l,1))),Object(g.isBefore)(c,l)?[c,l]:[l,c]}).sort(function(e,t){return Object(g.isBefore)(e[0],t[0])?0:1})}},L=function(e,t){return 1+Math.abs(t-e)},B=function(e){var t=e.toX,a=void 0===t?function(e){return e}:t,n=e.toY,c=e.numVerticalCells,r=e.originDate;return function(e){var t=Object(i.a)(e,2),l=t[0],s=t[1],o=Object(g.startOfDay)(l),u=a(Object(g.differenceInDays)(l,r)),d=n(Object(g.differenceInMinutes)(l,o)),b=a(Object(g.differenceInDays)(s,r)),f=n(Object(g.differenceInMinutes)(s,Object(g.startOfDay)(s)))-1,h=Object(m.range)(u,b+1).map(function(e){var t=e===u?d:0,a=e===b?f:c-1;return{startX:e,startY:t,endX:e,endY:a,spanX:L(e,e),spanY:L(t,a)}});return Object(g.isEqual)(s,Object(g.startOfDay)(s))&&h.pop(),h}},V=function(e){var t=e.totalHeight,a=e.totalWidth,n=e.numVerticalCells,c=e.numHorizontalCells;return{totalHeight:t,totalWidth:a,numVerticalCells:n,numHorizontalCells:c,cellWidth:a/c,cellHeight:t/n,getRectFromCell:function(e){var t=e.endX,a=e.startX,n=e.endY,c=e.startY,r=e.spanX,l=e.spanY;return{bottom:n*this.cellHeight,top:c*this.cellHeight,left:a*this.cellWidth,right:t*this.cellWidth,height:l*this.cellHeight,width:r*this.cellWidth,startX:a*this.cellWidth,endX:t*this.cellWidth,startY:c*this.cellHeight,endY:n*this.cellHeight}},getCellFromRect:function(e){var t=Object(m.clamp)(Object(m.floor)(e.left/this.cellWidth),0,c-1),a=Object(m.clamp)(Object(m.round)(e.top/this.cellHeight),0,n-1),r=Object(m.clamp)(Object(m.floor)(e.right/this.cellWidth),0,c-1),l=Object(m.clamp)(Object(m.round)(e.bottom/this.cellHeight),0,n-1);return{spanX:Object(m.clamp)(L(t,r),1,c),spanY:Object(m.clamp)(L(a,l),1,n),startX:t,startY:a,endX:r,endY:l}}}},P=a(110),A=a.n(P);function Q(e){return A()(Object(n.a)(e).map(function(e){return e.map(function(e){return new Date(e)})}))}function U(e,t){return null===t?e:Q([].concat(Object(n.a)(e),Object(n.a)(t))).sort(function(e,t){return Object(g.compareAsc)(e[0],t[0])})}var K=a(2),q=a.n(K),J=function(e){var t=e.fromY,a=e.fromX,n=e.originDate;return function(e){var c=e.startX,r=e.startY,l=e.endX,i=e.endY,s=S({startX:c,startY:r,toMin:t,toDay:a,originDate:n}),o=S({startX:l,startY:i,toMin:t,toDay:a,originDate:n});return[Object(g.isBefore)(s,o)?[s,o]:[o,s]]}};function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.passive,n=void 0===a||a,c=t.enabled,r=void 0===c||c,l=Object(s.useState)({scrollTop:0,scrollLeft:0}),o=Object(i.a)(l,2),u=o[0],d=o[1];return function(e,t,a,n){var c=(arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}).enabled,r=void 0===c||c;Object(s.useEffect)(function(){if(null!==e.current)return r?e.current.addEventListener(t,a,n):a&&e.current.removeEventListener(t,a),function(){e.current&&e.current.removeEventListener(t,a)}},[e.current,a,n,r])}(e,"scroll",function(e){if(e&&e.target){var t=e.target,a=t.scrollTop,n=t.scrollLeft;d({scrollTop:a,scrollLeft:n})}},{passive:n},{enabled:r}),u}function $(e,t){var a=t.top,n=void 0!==a&&a,c=t.left,r=void 0!==c&&c,l=G(e,{enabled:n||r}),i=l.scrollLeft,o=l.scrollTop;return Object(s.useMemo)(function(){return{transform:"translate(".concat(r?i:0,"px, ").concat(n?o:0,"px)"),zIndex:3}},[r?i:0,n?o:0])}var ee=[["2019-03-03T22:45:00.000Z","2019-03-04T01:15:00.000Z"],["2019-03-05T22:00:00.000Z","2019-03-06T01:00:00.000Z"],["2019-03-04T22:15:00.000Z","2019-03-05T01:00:00.000Z"],["2019-03-07T05:30:00.000Z","2019-03-07T10:00:00.000Z"],["2019-03-08T22:00:00.000Z","2019-03-09T01:00:00.000Z"],["2019-03-09T22:00:00.000Z","2019-03-10T01:00:00.000Z"],["2019-03-06T22:00:00.000Z","2019-03-07T01:00:00.000Z"]];function te(e){var t,a=e.grid,n=e.isBeingEdited,c=e.rangeIndex,u=e.cellIndex,d=e.cellArray,b=e.cell,m=e.className,h=e.onChange,p=e.cellInfoToDateRange,O=e.isResizable,j=e.isDeletable,v=e.isMovable,_=Object(s.useRef)(null),y=Object(s.useState)(b),X=Object(i.a)(y,2),M=X[0],C=X[1],x=Object(s.useMemo)(function(){return a.getRectFromCell(b)},[b,a]),T=Object(s.useMemo)(function(){return a.getRectFromCell(M)},[M,a]);Object(s.useEffect)(function(){C(b)},[b]);var R=Object(s.useMemo)(function(){return p(M)},[M]);Y("del",Object(s.useCallback)(function(){j&&h&&h(void 0,c)},[_.current,h,j,c]),_.current);var N=T.top,k=T.left,H=T.width,I=T.height,W={width:H,height:I},z=0===u,Z=u===d.length-1,S=Object(s.useCallback)(function(){h&&h(p(M),c)},[M,c,p,h]);Y("up",function(){if(v&&0!==M.startY){var e=Object(l.a)({},M,{startY:M.startY-1,endY:M.endY-1});h&&h(p(e),c)}},_.current),Y("down",function(){if(v&&M.endY!==a.numVerticalCells-1){var e=Object(l.a)({},M,{startY:M.startY+1,endY:M.endY+1});h&&h(p(e),c)}},_.current);var F=Object(s.useCallback)(function(e,t){var n=t.y;if(v){e.preventDefault(),e.stopPropagation();var c=n,r=c+T.height,i=Math.min(c,r),s=i+T.height;if(i!==N){var o=Object(l.a)({},T,{top:i,bottom:s}),u=a.getCellFromRect(o),d=u.startY,m=u.endY,g=Object(l.a)({},b,{startY:d,endY:m});f()(g.spanY===b.spanY,"Expected the dragged time cell to have the same height (".concat(g.spanY,", ").concat(b.spanY,")")),C(g)}}},[a,T,v,C]),L=Object(s.useCallback)(function(e,t,n,c){if(O&&(e.preventDefault(),e.stopPropagation(),0!==c.height)){var r={height:c.height+T.height,width:c.width+T.width},i=Object(l.a)({},x,r);t.includes("top")?i.top-=c.height:t.includes("bottom")&&(i.bottom+=c.height);var s=a.getCellFromRect(i),o=s.spanY,u=s.startY,d=s.endY,f=Object(l.a)({},b,{spanY:o,startY:u,endY:d});C(f)}},[a,T,O,C,x]);return o.a.createElement(w.a,{axis:v?"y":"none",bounds:{top:0,bottom:a.totalHeight-I,left:0,right:a.totalWidth},position:{x:k,y:N},onDrag:F,onStop:S,cancel:".".concat(q.a.handle)},o.a.createElement("button",{className:Object(E.a)([q.a.event,q.a["button-reset"],q.a["range-box"],m,(t={},Object(r.a)(t,q.a["is-draggable"],v),Object(r.a)(t,q.a["is-being-edited"],n&&n(b)),t)]),ref:_,tabIndex:0,style:W},o.a.createElement(D.a,{size:x,onResize:L,onResizeStop:S,handleWrapperClass:q.a["handle-wrapper"],enable:O?{top:!0,bottom:!0}:{},handleClasses:{bottom:Object(E.a)([q.a.handle,q.a.bottom]),bottomLeft:Object(E.a)([q.a.handle,q.a["bottom-left"]]),bottomRight:Object(E.a)([q.a.handle,q.a["bottom-right"]]),left:Object(E.a)([q.a.handle,q.a.left]),right:Object(E.a)([q.a.handle,q.a.right]),top:Object(E.a)([q.a.handle,q.a.top]),topLeft:Object(E.a)([q.a.handle,q.a["top-left"]]),topRight:Object(E.a)([q.a.handle,q.a["top-right"]])}},o.a.createElement("div",{className:q.a["event-content"],style:W},o.a.createElement("span",{className:q.a.start},z&&Object(g.format)(R[0],"h:mma")),o.a.createElement("span",{className:q.a.end},Z&&Object(g.format)(R[1],"h:mma"))))))}function ae(e){var t=e.ranges,a=e.grid,n=e.className,c=e.onChange,r=e.isResizable,l=e.isDeletable,i=e.isMovable,s=e.cellInfoToDateRange,u=e.dateRangeToCells,d=e.isBeingEdited;return o.a.createElement("div",{className:q.a["range-boxes"]},t.map(function(e,t){return o.a.createElement("span",{key:t},u(e).map(function(e,u,b){return o.a.createElement(te,{key:u,isResizable:r,isMovable:i,isDeletable:l,cellInfoToDateRange:s,cellArray:b,cellIndex:u,rangeIndex:t,className:n,isBeingEdited:d,onChange:c,grid:a,cell:e})}))}))}var ne=1440,ce=1,re=function(e){return e/ce},le=function(e){return e*ce};var ie=document.getElementById("root");d.a.render(o.a.createElement(function(e){var t=e.verticalPrecision,a=void 0===t?1/30:t,l=e.visualGridPrecision,u=void 0===l?1/30:l,d=Object(g.startOfWeek)(new Date("2019-03-04"),{weekStartsOn:1}),b=ne*a,h=7*ce,v=Object(s.useCallback)(function(e){return e/a},[a]),_=function(e){return e*a},y=Object(s.useMemo)(function(){return F({originDate:d,fromY:v,fromX:re})},[v,re,d]),D=Object(s.useCallback)(function(e){var t=y(e),a=Object(c.a)(t),n=a[0],r=a.slice(1);return f()(0===r.length,'Expected "cellInfoToSingleDateRange" to return a single date range, found '.concat(r.length," additional ranges instead. This is a bug in @remotelock/weekly-scheduler")),n},[y]),X=Object(s.useMemo)(function(){return B({originDate:d,numVerticalCells:b,numHorizontalCells:h,toX:le,toY:_})},[_,le,b,h,d]),w=Object(s.useRef)(null),S=Object(s.useRef)(null),L=$(w,{top:!1,left:!0}),P=$(w,{top:!1,left:!1}),A=p()(S),K=function(e){var t=Object(s.useState)({top:0,left:0,width:0,height:0}),a=Object(i.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(null),l=Object(i.a)(r,2),o=l[0],u=l[1],d=Object(s.useState)(!1),b=Object(i.a)(d,2),f=b[0],g=b[1],h=Object(s.useState)(!1),p=Object(i.a)(h,2),O=p[0],j=p[1];return Object(s.useEffect)(function(){var t=e.current;if(t){var a=Z(t),n=Object(M.a)(window,"touchmove",{passive:!1}),r=Object(M.a)(window,"touchend",{passive:!0}),l=Object(M.a)(t,"touchstart",{passive:!1}).pipe(Object(T.a)(function(e){return Object(C.a)(e).pipe(Object(R.a)(300),Object(N.a)(n))})),i=Object(M.a)(t,"mousedown",{passive:!0}).pipe(Object(k.a)(function(e){return 1===e.which})),s=Object(M.a)(window,"mousemove",{passive:!0}),o=Object(M.a)(window,"mouseup",{passive:!0}),d=Object(x.a)(i,l).pipe(Object(H.a)(function(e){e.preventDefault(),e.stopPropagation()}),Object(I.a)(a)),b=Object(x.a)(o,r).pipe(Object(I.a)(a),Object(H.a)(function(){g(!1),j(!0)})),f=Object(x.a)(s,n).pipe(Object(H.a)(function(e){e.preventDefault(),e.stopPropagation()}),Object(I.a)(a)),h=d.pipe(Object(H.a)(function(){g(!0),j(!1)}),Object(T.a)(function(e){return f.pipe(Object(W.a)(e),Object(I.a)(function(a){var n=Math.max(e.x,0),c=Math.max(e.y,0),r=Math.min(a.x,t.scrollWidth),l=Math.min(a.y,t.scrollHeight),i=Math.min(c,l),s=Math.max(c,l),o=Math.min(n,r),u=Math.max(n,r);return{startX:n,startY:c,endX:r,endY:l,top:i,bottom:s,left:o,right:u,width:u-o,height:s-i}}),Object(N.a)(b))}),Object(z.a)(m.isEqual)),p=h.pipe(Object(I.a)(function(e){return{top:e.top,left:e.left,width:e.width,height:e.height}})),O=h.subscribe(u),v=p.subscribe(c);return function(){O.unsubscribe(),v.unsubscribe()}}},[]),{style:n,box:o,isDragging:f,cancel:Object(s.useCallback)(function(){g(!1),j(!1),u(null)},[u]),hasFinishedDragging:O}}(S),G=K.style,te=K.box,ie=K.isDragging,se=K.hasFinishedDragging,oe=K.cancel,ue=Object(s.useState)(null),de=Object(i.a)(ue,2),be=de[0],fe=de[1],me=Object(O.a)(ee.map(function(e){return e.map(function(e){return new Date(e)})}).sort(function(e,t){return Object(g.compareAsc)(e[0],t[0])})),ge=Object(i.a)(me,2),he=ge[0],pe=ge[1],Oe=pe.set,je=pe.undo,ve=pe.redo,_e=pe.canUndo,ye=pe.canRedo,Ye=Object(s.useMemo)(function(){var e=null,t=null;if(null!==S.current){var a=S.current;e=a.scrollHeight,t=a.scrollWidth}return{totalHeight:e,totalWidth:t}},[S.current,A]),Ee=Ye.totalHeight,De=Ye.totalWidth,Xe=Object(s.useMemo)(function(){return null===Ee||null===De?null:V({totalHeight:Ee,totalWidth:De,numHorizontalCells:h,numVerticalCells:b})},[Ee,De,h,b]);Object(s.useEffect)(function(){if(null!==Xe&&null!==te){var e=te,t=Xe.getCellFromRect(e),a=y(t);fe(a)}else fe(null)},[te,Xe,fe]),Object(s.useEffect)(function(){se&&(Oe(U(he.present,be)),fe(null))},[se,Oe,fe,be,he.present]),Y("ctrl+z",function(){_e&&je()},document),Y("ctrl+shift+z",function(){ye&&ve()},document),Y("esc",function(){be&&oe()},document),Object(s.useEffect)(function(){oe()},[A]);var we=Object(s.useCallback)(function(e,t){if(!he.present&&e)return[e];var a=Object(n.a)(he.present);e?a[t]=e:a.splice(t,1),Oe(Q(a))},[he.present]),Me=Object(s.useMemo)(function(){return J({originDate:d,fromX:re,fromY:function(e){return e/u}})},[u,re,d]);return Object(s.useEffect)(function(){w.current&&w.current.contains(document.activeElement)&&document.activeElement&&Object(j.a)(document.activeElement,{scrollMode:"if-needed",block:"nearest",inline:"nearest"})},[w.current,document.activeElement,he.present]),o.a.createElement("div",{ref:w,className:Object(E.a)([q.a.root,Object(r.a)({},q.a["no-scroll"],ie)])},o.a.createElement("div",{style:L,className:q.a.timeline},o.a.createElement("div",{className:q.a.header},o.a.createElement("div",{className:q.a["day-column"]},o.a.createElement("div",{className:Object(E.a)([q.a.cell,q.a.title])},"T"))),o.a.createElement("div",{className:q.a.calendar},o.a.createElement("div",{className:q.a["day-column"]},o.a.createElement("div",{className:q.a["day-hours"]},Object(m.times)(48).map(function(e){var t="";if(e%2===0){var a=Me({startX:0,startY:e,endX:0,endY:e+1,spanX:1,spanY:1}),n=Object(i.a)(a,1),c=Object(i.a)(n[0],1)[0];t=Object(g.format)(c,"h a")}return o.a.createElement("div",{key:e,className:q.a.cell},o.a.createElement("div",{className:q.a.time},t))}))))),o.a.createElement("div",null,o.a.createElement("div",{style:P,className:Object(E.a)([q.a.calendar,q.a.header])},Object(m.times)(7).map(function(e){return o.a.createElement("div",{key:e,className:q.a["day-column"]},o.a.createElement("div",{className:Object(E.a)([q.a.cell,q.a.title])},Object(g.format)(Object(g.addDays)(d,e),"ddd")))})),o.a.createElement("div",{className:q.a["layer-container"]},ie&&o.a.createElement("div",{className:q.a["drag-box"],style:G},se&&o.a.createElement("div",{className:q.a.popup})),Xe&&be&&ie&&o.a.createElement(ae,{dateRangeToCells:X,cellInfoToDateRange:D,className:q.a["is-pending-creation"],ranges:U(he.present,be),grid:Xe}),Xe&&!be&&o.a.createElement(ae,{dateRangeToCells:X,cellInfoToDateRange:D,isResizable:!0,isMovable:!0,isDeletable:!0,onChange:we,ranges:he.present,grid:Xe}),o.a.createElement("div",{ref:S,className:q.a.calendar},Object(m.times)(7).map(function(e){return o.a.createElement("div",{key:e,className:q.a["day-column"]},o.a.createElement("div",{className:q.a["day-hours"]},Object(m.times)(48).map(function(t){return o.a.createElement("div",{key:t,className:q.a.cell},o.a.createElement("div",{className:q.a.debug},"(",e,", ",t,")"))})))})))))},{verticalPrecision:1/30}),ie)}},[[113,1,2]]]);
//# sourceMappingURL=main.67f2cd03.chunk.js.map